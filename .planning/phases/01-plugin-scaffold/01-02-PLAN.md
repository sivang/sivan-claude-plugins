---
phase: 01-plugin-scaffold
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - site-audit/commands/site-audit.md
  - site-audit/skills/site-audit/SKILL.md
autonomous: true

must_haves:
  truths:
    - "User can type /site-audit and it dispatches to the audit skill"
    - "The skill accepts a URL argument"
    - "The skill skeleton is ready to receive crawl logic in later phases"
  artifacts:
    - path: "site-audit/commands/site-audit.md"
      provides: "Slash command entry point"
      contains: "name: site-audit"
    - path: "site-audit/skills/site-audit/SKILL.md"
      provides: "Skill implementation skeleton"
      contains: "name: site-audit"
  key_links:
    - from: "site-audit/commands/site-audit.md"
      to: "site-audit/skills/site-audit/SKILL.md"
      via: "plugin convention (command name matches skill directory)"
      pattern: "name: site-audit"
---

<objective>
Create the /site-audit slash command and skill skeleton so the plugin is invocable and ready to receive crawl logic.

Purpose: Completes the plugin scaffold so a user can type `/site-audit <url>` and reach the skill. The skill body will be a minimal placeholder that validates the URL argument and confirms the plugin is working.
Output: Command file and skill SKILL.md that form a complete, invocable plugin entry point.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-plugin-scaffold/01-RESEARCH.md
@.planning/phases/01-plugin-scaffold/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create site-audit slash command</name>
  <files>
    site-audit/commands/site-audit.md
  </files>
  <action>
    Create the command file that registers the /site-audit slash command.

    1. Create directory: mkdir -p site-audit/commands

    2. Create site-audit/commands/site-audit.md with this content:

    ```markdown
    ---
    name: site-audit
    description: Crawl a website and audit for broken links, spelling errors, console errors, and visual issues
    ---

    Execute the site-audit skill to crawl and audit the provided URL. The user should provide a URL as an argument (e.g., `/site-audit https://example.com`).
    ```

    Follow the same frontmatter pattern as the existing session-workflow commands (name, description in YAML frontmatter, brief instruction in body).
  </action>
  <verify>
    - cat site-audit/commands/site-audit.md (file exists with correct content)
    - grep "name: site-audit" site-audit/commands/site-audit.md (frontmatter correct)
    - grep "description:" site-audit/commands/site-audit.md (has description)
  </verify>
  <done>site-audit/commands/site-audit.md exists with proper frontmatter (name, description) and body text instructing dispatch to the site-audit skill.</done>
</task>

<task type="auto">
  <name>Task 2: Create site-audit skill skeleton</name>
  <files>
    site-audit/skills/site-audit/SKILL.md
  </files>
  <action>
    Create the skill SKILL.md that will be the entry point for audit execution. For now it is a skeleton that validates the URL argument and confirms the plugin is functional. Later phases will replace the body with actual crawl logic.

    1. Create directory: mkdir -p site-audit/skills/site-audit

    2. Create site-audit/skills/site-audit/SKILL.md with this content:

    ```markdown
    ---
    name: site-audit
    description: This skill should be used when the user invokes /site-audit with a URL. It crawls the target website and produces a quality audit report covering broken links, spelling errors, console errors, and visual issues.
    ---

    # Site Audit

    **Role:** Thorough website quality auditor.

    **Objective:** Crawl the provided URL and all reachable same-domain pages, checking for broken links, spelling/grammar errors, console errors, and visual issues. Produce a structured report of all findings.

    ## Input

    The user provides a target URL as an argument to /site-audit. Example: `/site-audit https://example.com`

    If no URL is provided, ask the user for one. Validate that the input is a valid URL (starts with http:// or https://).

    ## Execution

    **Phase 1: URL Validation**
    1. Extract the URL from the user's command
    2. Validate it starts with http:// or https://
    3. Confirm the target domain with the user

    **Phase 2: Crawl** (to be implemented in Phase 2)
    - Placeholder: Report that crawl logic is not yet implemented
    - Target: Recursive same-domain page discovery via WebFetch

    **Phase 3: Content Analysis** (to be implemented in Phase 2)
    - Placeholder: Report that content analysis is not yet implemented
    - Target: Dead link detection and AI-powered spelling check

    **Phase 4: UI Checks** (to be implemented in Phase 3)
    - Placeholder: Report that UI checks are not yet implemented
    - Target: Chrome-based console error and visual issue detection

    **Phase 5: Report** (to be implemented in Phase 4)
    - Placeholder: Report that report generation is not yet implemented
    - Target: Structured markdown report with findings by page and by type

    ## Current Status

    This is the scaffold version. Only Phase 1 (URL Validation) is active. Respond to the user confirming:
    1. The URL they provided is valid
    2. The target domain that will be audited
    3. That crawl, analysis, and reporting capabilities are coming in future updates
    ```

    The skill description in frontmatter should be detailed enough for Claude to match the skill when the command is invoked. The body provides the execution instructions.
  </action>
  <verify>
    - cat site-audit/skills/site-audit/SKILL.md (file exists with content)
    - grep "name: site-audit" site-audit/skills/site-audit/SKILL.md (frontmatter correct)
    - grep "URL Validation" site-audit/skills/site-audit/SKILL.md (has validation phase)
    - grep "to be implemented" site-audit/skills/site-audit/SKILL.md (placeholders present)
  </verify>
  <done>site-audit/skills/site-audit/SKILL.md exists with frontmatter (name, description), structured execution phases with Phase 1 active and Phases 2-5 as placeholders, and URL validation logic.</done>
</task>

</tasks>

<verification>
- /site-audit command file exists at site-audit/commands/site-audit.md
- Skill file exists at site-audit/skills/site-audit/SKILL.md
- Command name matches skill directory name (site-audit)
- Skill validates URL input (checks for http/https prefix)
- Skill has placeholder sections for all future phases
- Complete plugin structure: plugin.json + commands/ + skills/ all present under site-audit/
</verification>

<success_criteria>
1. site-audit/commands/site-audit.md has valid frontmatter with name and description
2. site-audit/skills/site-audit/SKILL.md has valid frontmatter and execution instructions
3. The command name "site-audit" matches the skill directory name "site-audit" (convention linkage)
4. Skill includes URL validation logic and placeholder sections for future phases
</success_criteria>

<output>
After completion, create `.planning/phases/01-plugin-scaffold/01-02-SUMMARY.md`
</output>
